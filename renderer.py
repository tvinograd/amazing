"""Terminal maze renderer using block characters."""

# GIVEN:
width = 25
height = 20
entry = (1, 5)
exit_ = (19, 14)

hex_strings = [
    "9", "5", "1", "5", "3", "9", "1", "5", "3", "9", "5", "5", "1", "7", "9", "5", "1", "5", "1", "1", "5", "1", "1", "5", "3",
    "E", "B", "A", "B", "A", "E", "8", "1", "2", "8", "5", "3", "C", "1", "4", "1", "2", "B", "A", "8", "1", "2", "8", "1", "2",
    "9", "6", "A", "8", "4", "1", "6", "A", "8", "4", "5", "4", "5", "4", "1", "2", "A", "C", "4", "2", "8", "2", "C", "2", "A",
    "C", "3", "A", "8", "3", "8", "1", "6", "A", "9", "3", "9", "5", "3", "8", "4", "4", "5", "3", "A", "8", "2", "D", "0", "2",
    "9", "6", "8", "4", "2", "A", "8", "5", "2", "A", "C", "0", "7", "A", "A", "D", "1", "3", "A", "8", "2", "8", "3", "C", "2",
    "C", "1", "2", "9", "6", "C", "4", "3", "A", "A", "B", "8", "3", "A", "A", "9", "2", "A", "A", "8", "6", "8", "6", "B", "A",
    "9", "2", "E", "8", "5", "3", "9", "6", "8", "4", "2", "8", "4", "4", "4", "6", "8", "2", "A", "C", "1", "2", "9", "0", "2",
    "A", "C", "3", "8", "1", "4", "4", "5", "2", "F", "A", "8", "3", "F", "F", "F", "8", "2", "C", "5", "2", "C", "4", "2", "A",
    "8", "5", "6", "8", "4", "1", "1", "7", "A", "F", "C", "6", "8", "5", "7", "F", "A", "C", "1", "3", "8", "3", "D", "0", "6",
    "C", "5", "3", "A", "D", "0", "4", "3", "A", "F", "F", "F", "A", "F", "F", "F", "8", "5", "6", "A", "A", "8", "1", "4", "3",
    "9", "1", "4", "4", "1", "2", "9", "4", "2", "9", "7", "F", "A", "F", "D", "5", "0", "1", "1", "4", "2", "C", "6", "B", "A",
    "A", "A", "9", "1", "2", "A", "C", "3", "8", "4", "3", "F", "A", "F", "F", "F", "8", "2", "8", "5", "6", "D", "5", "2", "A",
    "8", "4", "2", "A", "8", "6", "9", "2", "A", "9", "2", "B", "8", "5", "1", "7", "C", "4", "4", "5", "1", "5", "5", "2", "A",
    "8", "1", "6", "A", "C", "3", "8", "4", "4", "6", "8", "2", "8", "5", "2", "9", "3", "9", "1", "7", "A", "9", "5", "4", "2",
    "C", "4", "1", "6", "9", "2", "8", "5", "1", "3", "C", "4", "4", "3", "A", "8", "2", "8", "4", "5", "6", "C", "3", "B", "A",
    "9", "1", "4", "1", "6", "A", "A", "9", "2", "C", "3", "9", "3", "A", "8", "2", "8", "0", "1", "5", "5", "3", "A", "A", "A",
    "A", "8", "1", "2", "9", "2", "A", "A", "8", "1", "4", "6", "8", "2", "C", "6", "A", "8", "6", "9", "3", "C", "6", "A", "A",
    "A", "8", "4", "4", "2", "C", "6", "C", "2", "C", "1", "1", "6", "8", "5", "5", "2", "C", "1", "6", "A", "9", "5", "4", "2",
    "8", "6", "9", "5", "6", "9", "5", "1", "6", "9", "2", "C", "1", "4", "5", "5", "4", "1", "6", "9", "2", "8", "5", "5", "2",
    "C", "5", "4", "5", "5", "4", "5", "4", "5", "6", "C", "5", "4", "5", "5", "5", "5", "4", "5", "4", "4", "4", "5", "5", "6",
]
cells = [int(ch, 16) for ch in hex_strings]

##############################################################################

# PRESETS
RESET = "\033[0m"
GREY = "\033[90m"
RED = "\033[91m"
GREEN = "\033[92m"
BLUE = "\033[94m"
MAGENTA = "\033[95m"
WHITE = "\033[97m"
WALL = "██"
PATH = "  "

# GRID
grid_width = width * 2 + 1
grid_height = height * 2 + 1

grid: list[list[str]] = [
    [PATH for _ in range(grid_width)] for _ in range(grid_height)
]

WALLS = [
    (1, -1,  0, -1, +1),  # North: wall above + corner above-right
    (2,  0, +1, +1, +1),  # East:  wall right + corner below-right
    (4, +1,  0, +1, -1),  # South: wall below + corner below-left
    (8,  0, -1, -1, -1),  # West:  wall left  + corner above-left
]

for row in range(height):
    for col in range(width):
        cell = cells[row * width + col]
        y = row * 2 + 1
        x = col * 2 + 1

        for bit, wall_y, wall_x, corner_y, corner_x in WALLS:
            if cell & bit:
                grid[y + wall_y][x + wall_x] = WALL
                grid[y + corner_y][x + corner_x] = WALL
        
        # FULLY CLOSED
        if cell == 15:
            grid[y][x] = f"{GREEN}{WALL}{RESET}"

# ENTRY/EXIT
entry_y = entry[1] * 2 + 1
entry_x = entry[0] * 2 + 1
grid[entry_y][entry_x] = f"{MAGENTA}{WALL}{RESET}"

exit_y = exit_[1] * 2 + 1
exit_x = exit_[0] * 2 + 1
grid[exit_y][exit_x] = f"{RED}{WALL}{RESET}"

# DRAW
for row in grid:
    print("".join(row))

